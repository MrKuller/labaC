#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include "sec.h"
int main()
{
    int i, j, n;
    char znak;
    double **m1, **m2, **result;
    printf("Vvedite znak:\n");
    scanf("%c",&znak);
    printf("Vvedite razmer matric:\n");
    scanf("%d",&n);
     m1=(double**)malloc(n*sizeof(double*));
    for(i=0;i<n;i++){
        m1[i]= (double*)malloc(n*sizeof(double));
    }
    printf("Vvedite znachfunc m1:\n");
    for (i=0; i<n; i++){
        for (j=0; j<n; j++){
            scanf("%lf", &m1[i][j]);
        }
    }
    for (i=0; i<n; i++){
        for (j=0; j<n; j++){
            printf("%lf ", m1[i][j]);
        }
        printf("\n");
    }
    m2=(double**)malloc(n*sizeof(double*));
    for(i=0;i<n;i++){
        m2[i]= (double*)malloc(n*sizeof(double));
    }
    
    printf("Vvedite znachfunc m2:\n");
    for (i=0; i<n; i++){
        for (j=0; j<n; j++){
            scanf("%lf", &m2[i][j]);
        }
    }
    for (i=0; i<n; i++){
        for (j=0; j<n; j++){
            printf("%lf ", m2[i][j]);
        }
        printf("\n");
    }
    printf("result:\n");
    result = reshenie(m1,m2,n, znak);
    for (i=0; i<n; i++){
        for (j=0; j<n; j++){
            printf("%lf ", result[i][j]);
        }
        printf("\n");
    }
    for (i=0;i<n;i++){
        free(m1[i]);
    }
    free(m1);
    for (i=0;i<n;i++){
        free(m2[i]);
    }
    free(m2);
    return 0;
}



------------------------------------------



#include <stdio.h>
#include <stdlib.h>
#include <math.h>
int i, j, n;
char znak;
double **reshenie(double **m1,double **m2,int n, char znak){
    double **result=(double**)malloc(n*sizeof(double*));
    for(i=0;i<n;i++){
        result[i]= (double*)malloc(n*sizeof(double));
    }
    if (znak == '+'){
        for (i=0; i<n; i++){
            for (j=0; j<n; j++){
                result[i][j] = m1[i][j] + m2[i][j];
            }    
        }
    }
    if (znak == '-'){
        for (i=0; i<n; i++){
            for (j=0; j<n; j++){
                result[i][j] = m1[i][j] - m2[i][j];
            }    
        }
    }
    if (znak == '*'){
        for (int i=0; i<n; i++) {
            for (int j=0; j<n; j++){
                result[i][j] += m1[i][j] * m2[i][j];
            }
        }
    }
    return result;
}
